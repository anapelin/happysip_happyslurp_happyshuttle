tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife <- st_transform(nightlife, crs = subzones)
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife <- st_transform(nightlife, crs = subzones)
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
# tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
class(nightlife)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
print(st_crs(nightlife))
print(st_is_empty(nightlife))
# Convert the dataframe to a SpatialPointsDataFrame
nightlife_sp_data <- SpatialPointsDataFrame(coordinates, data = data.frame(nightlife), proj4string = CRS("+proj=longlat +datum=WGS84"))
print(st_is_empty(nightlife))
nightlife <- st_make_valid(nightlife)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_make_valid(nightlife)
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife <- st_make_valid(nightlife)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife <- st_transform(nightlife, crs = subzones)
th_spatial <- st_as_sf(yth_data, coords = c("longitude", "latitude"), crs = 4326)
# Group points with the same value and create convex hulls
grouped_points <- yth_spatial %>%
group_by(youth) %>%
summarize()
yth_poly <- grouped_points %>%
st_convex_hull()
yth_poly <- yth_poly[-14,] #remove the individual point which is out of place #or horh jeremy never draw ur boudnaries properly
# Plot or analyze the resulting polygons
plot(yth_poly) #polygon map of youth density
class(yth_poly)
#HDB points plotting
hdb_spatial <- st_as_sf(hdb, coords = c("lng", "lat"), crs = 4326)
class(hdb_spatial)
joined <- st_join(hdb_spatial,yth_poly)
#This plot is to show how some HDB lies outside the given density polys.
#HDB with youth polygons
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(yth_poly) + tm_polygons(col = 'youth') +
tm_shape(hdb_spatial) + tm_bubbles(size = 0.1, scale = 0.5, col = 'black')  +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="HDB location in Singapore",
title.position = c('left', 'bottom'))
# 2. Handling Data
# 2.1 Loading Raw Datafiles
# Base Map
# subzones <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
# base_map <- st_read(dsn = "dataset/basemap", layer = "SGP_adm0")
# base_map <- base_map %>% select(ISO)
# base_map <- st_transform(base_map, crs=st_crs(subzones))
base_map <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
base_map <- st_transform(base_map, crs="EPSG:4326")
# 2. Handling Data
# 2.1 Loading Raw Datafiles
# Base Map
# subzones <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
# base_map <- st_read(dsn = "dataset/basemap", layer = "SGP_adm0")
# base_map <- base_map %>% select(ISO)
# base_map <- st_transform(base_map, crs=st_crs(subzones))
base_map <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
#This plot is to show how some HDB lies outside the given density polys.
#HDB with youth polygons
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(yth_poly) + tm_polygons(col = 'youth') +
tm_shape(hdb_spatial) + tm_bubbles(size = 0.1, scale = 0.5, col = 'black')  +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="HDB location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife <- st_transform(nightlife, crs = 4326)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
plot(nightlife)
tm_shape(base_map) + tm_borders() +
# tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
View(nightlife)
View(hdb)
View(hdb_spatial)
nightlife <- st_transform(nightlife, crs = 4326)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife <- st_make_valid(nightlife)
nightlife <- st_transform(nightlife, crs = "+datum=WGS84")
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife) + tm_bubbles(size = 0.0001, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
View(base_map)
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife_sf <- st_transform(nightlife, crs=st_crs(subzones)) # project to basemap's CRS
nightlife_sf <- st_intersection(nightlife_sf, base_map) # remove extra points
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
# 2. Handling Data
# 2.1 Loading Raw Datafiles
# Base Map
# subzones <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
# base_map <- st_read(dsn = "dataset/basemap", layer = "SGP_adm0")
# base_map <- base_map %>% select(ISO)
# base_map <- st_transform(base_map, crs=st_crs(subzones))
base_map <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
subzones <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
base_map <- st_read(dsn = "dataset/basemap", layer = "SGP_adm0")
base_map <- base_map %>% select(ISO)
base_map <- st_transform(base_map, crs=st_crs(subzones))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife_sf <- st_transform(nightlife, crs=st_crs(subzones)) # project to basemap's CRS
nightlife_sf <- st_intersection(nightlife_sf, base_map) # remove extra points
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tmap_options(check.and.fix = TRUE)
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
?st_clip
nightlife_sf <- st_transform(nightlife, crs=st_crs(subzones)) # project to basemap's CRS
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson')
nightlife_sf <- st_transform(nightlife, crs=st_crs(subzones)) # project to basemap's CRS
# # Nightlife (Bars + Clubs) Crowd Density Data
rawdata_bars <- fromJSON("dataset/besttime/bars.json", flatten=TRUE)
rawdata_clubs <- fromJSON("dataset/besttime/clubs.json", flatten=TRUE)
relevant_columns <- c("venue_lat", "venue_lon", "venue_name")
bars <- rawdata_bars$venues[relevant_columns]
clubs <- rawdata_clubs$venues[relevant_columns]
#
# # Nightlife DataFrame: lat, lng, name of place, crowd density
nightlife <- rbind(bars, clubs)
new_column_names <- c("lat", "lng", "name")
nightlife <- setNames(nightlife, new_column_names)
# 3. Preprocessing Data to Vectors/Rasters
# 3.1 Nightlife Locations
# Create a spatial data frame with points
coordinates <- cbind(nightlife$lng, nightlife$lat)
# Convert the dataframe to a SpatialPointsDataFrame
nightlife_sp_data <- SpatialPointsDataFrame(coordinates, data = data.frame(nightlife), proj4string = CRS("+proj=longlat +datum=WGS84"))
# convert to sf
nightlife_sf_data <- st_as_sf(nightlife_sp_data)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf_data) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson', crs = st_crs(subzones))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson', crs = st_crs(subzones))
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf_data) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
base_map <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson', crs = st_crs(subzones))
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf_data) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson', crs = 4326)
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf_data) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tmap_options(check.and.fix = TRUE)
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(nightlife_sf_data) + tm_bubbles(size = 0.1, col = "red") +
# tm_shape(nightlife_buffer) + tm_polygons() +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
tmap_options(check.and.fix = TRUE)
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
yth_spatial <- st_as_sf(yth_data, coords = c("longitude", "latitude"), crs = 4326)
# Group points with the same value and create convex hulls
grouped_points <- yth_spatial %>%
group_by(youth) %>%
summarize()
yth_poly <- grouped_points %>%
st_convex_hull()
yth_poly <- yth_poly[-14,] #remove the individual point which is out of place #or horh jeremy never draw ur boudnaries properly
# Plot or analyze the resulting polygons
plot(yth_poly) #polygon map of youth density
class(yth_poly)
#HDB points plotting
hdb_spatial <- st_as_sf(hdb, coords = c("lng", "lat"), crs = 4326)
class(hdb_spatial)
joined <- st_join(hdb_spatial,yth_poly)
#This plot is to show how some HDB lies outside the given density polys.
#HDB with youth polygons
tm_shape(base_map) + tm_borders() +
tm_basemap('OpenStreetMap') +
tm_shape(yth_poly) + tm_polygons(col = 'youth') +
tm_shape(hdb_spatial) + tm_bubbles(size = 0.1, scale = 0.5, col = 'black')  +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="HDB location in Singapore",
title.position = c('left', 'bottom'))
#This plot is to show how some HDB lies outside the given density polys.
#HDB with youth polygons
tm_shape(base_map) + tm_borders() +
tm_shape(yth_poly) + tm_polygons(col = 'youth') +
tm_shape(hdb_spatial) + tm_bubbles(size = 0.1, scale = 0.5, col = 'black')  +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="HDB location in Singapore",
title.position = c('left', 'bottom'))
st_is_valid(base_map)
st_make_valid(base_map)
#This plot is to show how some HDB lies outside the given density polys.
#HDB with youth polygons
tm_shape(base_map) + tm_borders() +
tm_shape(yth_poly) + tm_polygons(col = 'youth') +
tm_shape(hdb_spatial) + tm_bubbles(size = 0.1, scale = 0.5, col = 'black')  +
tm_compass(type="8star", size = 2) +
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="HDB location in Singapore",
title.position = c('left', 'bottom'))
base_map <- st_make_valid(base_map)
tmap_options(check.and.fix = TRUE)
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
# base_map <- st_read(dsn = "dataset/basemap", layer = "SGP_adm0")
# base_map <- base_map %>% select(ISO)
# base_map <- st_transform(base_map, crs=st_crs(subzones))
base_map <- st_read(dsn = "dataset/basemap", layer = "MP14_SUBZONE_NO_SEA_PL")
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
nightlife <- st_read('dataset/processed_datasets/nightlife_locations.geojson', crs = 4326)
tm_shape(base_map) + tm_borders(col='black') + tm_fill(col = "orange") +
tm_shape(nightlife_sf) + tm_dots(size = 0.0075, col = "black") + # Nightlife locations
tm_scale_bar(width = 0.15) +
tm_layout(legend.format = list(digits = 0),
legend.position = c("left", "bottom"),
legend.text.size = 0.25,
legend.title.size = 0.5,
title="Nightlife location in Singapore",
title.position = c('left', 'bottom'))
